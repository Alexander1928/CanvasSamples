<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>Animation Balls</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body {
                background: url('data:image/png;base64,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') #222;
            }
        </style>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    </head>
    <body>
        <canvas id="canvas"></canvas>

        <script>
            /**
             * Generates random particles using canvas
             * 
             * @class Particles
             * @constructor
             */
            function Particles() {
                //particle colors
                this.colors = [
                    '255, 255, 255',
                    '255, 99, 71',
                    '19, 19, 19'
                ]
                //adds gradient to particles on true
                this.blurry = true;
                //adds white border
                this.border = false;
                //particle radius min/max
                this.minRadius = 70;
                this.maxRadius = 35;
                //particle opacity min/max
                this.minOpacity = .005;
                this.maxOpacity = .5;
                //particle speed min/max
                this.minSpeed = .115;
                this.maxSpeed = .115;
                //frames per second 
                this.fps = 60;
                //number of particles
                this.numParticles = 75;
                //required canvas variables
                this.canvas = document.getElementById('canvas');
                this.ctx = this.canvas.getContext('2d');
            }

            /**
             * Initializes everything
             * @method init
             */
            Particles.prototype.init = function () {
                this.render();
                this.createCircle();
            }

            /**
             * generates random number between min and max values
             * @param  {number} min value
             * @param  {number} max malue
             * @return {number} random number between min and max
             * @method _rand
             */
            Particles.prototype._rand = function (min, max) {
                return Math.random() * (max - min) + min;
            }

            /**
             * Sets canvas size and updates values on resize
             * @method render
             */
            Particles.prototype.render = function () {
                var self = this,
                        wHeight = $(window).height(),
                        wWidth = $(window).width();

                self.canvas.width = wWidth;
                self.canvas.height = wHeight;

                $(window).on('resize', self.render);
            }

            /**
             * Randomly creates particle attributes
             * @method createCircle
             */
            Particles.prototype.createCircle = function () {
                var particle = [];

                for (var i = 0; i < this.numParticles; i++) {
                    var self = this,
                            color = self.colors[~~(self._rand(0, self.colors.length))];

                    particle[i] = {
                        radius: self._rand(self.minRadius, self.maxRadius),
                        xPos: self._rand(0, canvas.width),
                        yPos: self._rand(0, canvas.height),
                        xVelocity: self._rand(self.minSpeed, self.maxSpeed),
                        yVelocity: self._rand(self.minSpeed, self.maxSpeed),
                        color: 'rgba(' + color + ',' + self._rand(self.minOpacity, self.maxOpacity) + ')'
                    }

                    //once values are determined, draw particle on canvas
                    self.draw(particle, i);
                }
                //...and once drawn, animate the particle
                self.animate(particle);
            }

            /**
             * Draws particles on canvas
             * @param  {array} Particle array from createCircle method
             * @param  {number} i value from createCircle method
             * @method draw
             */
            Particles.prototype.draw = function (particle, i) {
                var self = this,
                        ctx = self.ctx;

                if (self.blurry === true) {
                    //creates gradient if blurry === true
                    var grd = ctx.createRadialGradient(particle[i].xPos, particle[i].yPos, particle[i].radius, particle[i].xPos, particle[i].yPos, particle[i].radius / 1.25);

                    grd.addColorStop(1.000, particle[i].color);
                    grd.addColorStop(0.000, 'rgba(34, 34, 34, 0)');
                    ctx.fillStyle = grd;
                } else {
                    //otherwise sets to solid color w/ opacity value
                    ctx.fillStyle = particle[i].color;
                }

                if (self.border === true) {
                    ctx.strokeStyle = '#fff';
                    ctx.stroke();
                }

                ctx.beginPath();
                ctx.arc(particle[i].xPos, particle[i].yPos, particle[i].radius, 0, 2 * Math.PI, false);
                ctx.fill();
            }

            /**
             * Animates particles 
             * @param  {array} particle value from createCircle & draw methods
             * @method animate
             */
            Particles.prototype.animate = function (particle) {
                var self = this,
                        ctx = self.ctx;

                setInterval(function () {
                    //clears canvas
                    self.clearCanvas();
                    //then redraws particles in new positions based on velocity
                    for (var i = 0; i < self.numParticles; i++) {
                        particle[i].xPos += particle[i].xVelocity;
                        particle[i].yPos -= particle[i].yVelocity;

                        //if particle goes off screen call reset method to place it offscreen to the left/bottom
                        if (particle[i].xPos > self.canvas.width + particle[i].radius || particle[i].yPos > self.canvas.height + particle[i].radius) {
                            self.resetParticle(particle, i);
                        } else {
                            self.draw(particle, i);
                        }
                    }
                }, 1000 / self.fps);
            }

            /**
             * Resets position of particle when it goes off screen
             * @param  {array} particle value from createCircle & draw methods
             * @param  {number} i value from createCircle method
             * @method resetParticle
             */
            Particles.prototype.resetParticle = function (particle, i) {
                var self = this;

                var random = self._rand(0, 1);

                if (random > .5) {
                    // 50% chance particle comes from left side of window...
                    particle[i].xPos = -particle[i].radius;
                    particle[i].yPos = self._rand(0, canvas.height);
                } else {
                    //... or bottom of window
                    particle[i].xPos = self._rand(0, canvas.width);
                    particle[i].yPos = canvas.height + particle[i].radius;
                }
                //redraw particle with new values
                self.draw(particle, i);
            }

            /**
             * Clears canvas between animation frames
             * @method clearCanvas
             */
            Particles.prototype.clearCanvas = function () {
                this.ctx.clearRect(0, 0, canvas.width, canvas.height);
            }


// go go go!
            var particle = new Particles().init();
        </script>
    </body>
</html>
